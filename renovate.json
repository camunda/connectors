{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    "group:allNonMajor"
  ],
  "commitMessagePrefix": "deps:",
  "dependencyDashboard": true,
  "prConcurrentLimit": 50,
  "prHourlyLimit": 10,
  "updateNotScheduled": false,
  "schedule": [
    "* 20-23,0-8 * * 1-5",
    "* * * * 0,6"
  ],
  "labels": [
    "dependencies"
  ],
  "timezone": "Europe/Berlin",
  "customManagers": [
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/^docker-images\\.properties$/"
      ],
      "matchStrings": [
        "^.*=(?<currentValue>.*)$"
      ],
      "depNameTemplate": "{{{matchString}}}",
      "datasourceTemplate": "docker"
    }
  ],
  "hostRules": [
    {
      "hostType": "docker",
      "matchHost": "https://reg.mini.dev",
      "username": "minimus",
      "password": "{{ secrets.INFRA_MINIMUS_REGISTRY_TOKEN }}"
    }
  ],
  "packageRules": [
    {
      "matchManagers": [
        "maven",
        "dockerfile"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest"
      ],
      "automerge": true
    },
    {
      "matchManagers": [
        "github-actions"
      ],
      "automerge": true
    },
    {
      "matchBaseBranches": [
        "stable/*"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "enabled": false
    },
    {
      "matchBaseBranches": [
        "stable/*"
      ],
      "matchPackageNames": [
        "io.camunda*"
      ],
      "matchUpdateTypes": [
        "major",
        "minor",
        "replacement"
      ],
      "enabled": false
    },
    {
      "matchPackageNames": [
        "io.camunda.connector{/,}**"
      ],
      "enabled": false
    },
    {
      "matchBaseBranches": [
        "stable/8.6",
        "stable/8.7"
      ],
      "enabled": false,
      "matchPackageNames": [
        "com.google.http-client:google-http-client{/,}**"
      ]
    },
    {
      "matchPackageNames": [
        "camunda/infra-global-github-actions"
      ],
      "matchUpdateTypes": [
        "digest"
      ],
      "changelogUrl": "https://github.com/camunda/infra-global-github-actions/compare/{{currentDigest}}..{{newDigest}}"
    }
  ],
  "baseBranchPatterns": [
    "main",
    "/^stable\\/.*/"
  ]
}
